storage:
  ram:
    max: '100m'
  disk:
    max: '1g'

logging:
  # log stats when enabled logs
  # Cached: Paths: 12, RAM usage: 1.2mb, Disk usage: 0b, Resp Min/avg/max 12b/120b/1024kb
  log_stats_every: '10s'

  # Revalidated for match "PathPrefix(xx) | PathPrefix(yy)": X URLs, Y changed, Took: 20s, RPS: 10, resp time min/avg/max - 10ms/20ms/1s
  log_revalidation_every: '10s'
  
server:
  port: 8082
  origin: 'http://host.docker.internal:8080'


rules:
  - match: PathPrefix(/api) | PathPrefix(/admin)
    priority: 1
    bypass: true
  - match: PathPrefix(/)
    priority: 2
    bypassWhenCookies:
      - sessionid
    expiration: '10s'
    warmUp:
      runEvery: '30s'
      # Max number of in-flight warm-up (revalidation) requests at once.
      # Warm-up candidates beyond this limit should be queued and continued
      # across subsequent warmUp ticks until fully drained.
      maxRequestsAtATime: 1000
